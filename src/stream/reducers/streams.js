export default function reducer(state = {
    streams: [
        {_id: 0, viewers: 0, source: "/assets/video/otterdance.mp4", Slogan: "This is an example Slogan because I say so", User: "Wouter Jansen", Avatar:"/assets/img/otter1.jpg", messages: [{user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "This is a message!", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus vitae mi a imperdiet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ornare vestibulum eros non ultrices. Vivamus aliquet finibus viverra. Suspendisse maximus tristique enim eget posuere. Nam lobortis ex at purus cursus interdum. Duis sollicitudin consectetur arcu. Maecenas id ligula risus.", is_verified: true}, {user: "Timo Viveen", userimage: "/assets/img/otter2.jpg", message: "lmao", is_verified: false}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Howdy", is_verified: true}, {user: "Wouter Jansen", userimage: "/assets/img/otter2.jpg", message: "ohai", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Hi", is_verified: true}]},
        {_id: 1, viewers: 0, source: "/assets/video/otterdance.mp4", Slogan: "This is an example Slogan because I say so", User: "Timo Viveen", Avatar:"/assets/img/otter2.jpg", messages: [{user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus vitae mi a imperdiet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ornare vestibulum eros non ultrices. Vivamus aliquet finibus viverra. Suspendisse maximus tristique enim eget posuere. Nam lobortis ex at purus cursus interdum. Duis sollicitudin consectetur arcu. Maecenas id ligula risus.", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus vitae mi a imperdiet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ornare vestibulum eros non ultrices. Vivamus aliquet finibus viverra. Suspendisse maximus tristique enim eget posuere. Nam lobortis ex at purus cursus interdum. Duis sollicitudin consectetur arcu. Maecenas id ligula risus.", is_verified: true}, {user: "Timo Viveen", userimage: "/assets/img/otter2.jpg", message: "lmao", is_verified: false}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Howdy", is_verified: true}, {user: "Wouter Jansen", userimage: "/assets/img/otter2.jpg", message: "ohai", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Hi", is_verified: true}]},
        {_id: 2, viewers: 0, source: "/assets/video/otterdance.mp4", Slogan: "This is an example Slogan because I say so", User: "Gerben Droogers", Avatar:"/assets/img/otter3.jpg", messages: [{user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus vitae mi a imperdiet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ornare vestibulum eros non ultrices. Vivamus aliquet finibus viverra. Suspendisse maximus tristique enim eget posuere. Nam lobortis ex at purus cursus interdum. Duis sollicitudin consectetur arcu. Maecenas id ligula risus.", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus vitae mi a imperdiet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ornare vestibulum eros non ultrices. Vivamus aliquet finibus viverra. Suspendisse maximus tristique enim eget posuere. Nam lobortis ex at purus cursus interdum. Duis sollicitudin consectetur arcu. Maecenas id ligula risus.", is_verified: true}, {user: "Timo Viveen", userimage: "/assets/img/otter2.jpg", message: "lmao", is_verified: false}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Howdy", is_verified: true}, {user: "Wouter Jansen", userimage: "/assets/img/otter2.jpg", message: "ohai", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Hi", is_verified: true}]},
        {_id: 3, viewers: 0, source: "/assets/video/otterdance.mp4", Slogan: "This is an example Slogan because I say so", User: "Patrick van Batenburg", Avatar:"/assets/img/otter4.jpg", messages: [{user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus vitae mi a imperdiet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ornare vestibulum eros non ultrices. Vivamus aliquet finibus viverra. Suspendisse maximus tristique enim eget posuere. Nam lobortis ex at purus cursus interdum. Duis sollicitudin consectetur arcu. Maecenas id ligula risus.", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus vitae mi a imperdiet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ornare vestibulum eros non ultrices. Vivamus aliquet finibus viverra. Suspendisse maximus tristique enim eget posuere. Nam lobortis ex at purus cursus interdum. Duis sollicitudin consectetur arcu. Maecenas id ligula risus.", is_verified: true}, {user: "Timo Viveen", userimage: "/assets/img/otter2.jpg", message: "lmao", is_verified: false}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Howdy", is_verified: true}, {user: "Wouter Jansen", userimage: "/assets/img/otter2.jpg", message: "ohai", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Hi", is_verified: true}]},
        {_id: 4, viewers: 0, source: "/assets/video/otterdance.mp4", Slogan: "This is an example Slogan because I say so", User: "Maarten van der Heijden", Avatar:"/assets/img/otter5.jpg", messages: [{user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus vitae mi a imperdiet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ornare vestibulum eros non ultrices. Vivamus aliquet finibus viverra. Suspendisse maximus tristique enim eget posuere. Nam lobortis ex at purus cursus interdum. Duis sollicitudin consectetur arcu. Maecenas id ligula risus.", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus vitae mi a imperdiet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ornare vestibulum eros non ultrices. Vivamus aliquet finibus viverra. Suspendisse maximus tristique enim eget posuere. Nam lobortis ex at purus cursus interdum. Duis sollicitudin consectetur arcu. Maecenas id ligula risus.", is_verified: true}, {user: "Timo Viveen", userimage: "/assets/img/otter2.jpg", message: "lmao", is_verified: false}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Howdy", is_verified: true}, {user: "Wouter Jansen", userimage: "/assets/img/otter2.jpg", message: "ohai", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Hi", is_verified: true}]},
        {_id: 5, viewers: 0, source: "/assets/video/otterdance.mp4", Slogan: "This is an example Slogan because I say so", User: "Thijmen Boot", Avatar:"/assets/img/otter6.jpg", messages: [{user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus vitae mi a imperdiet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ornare vestibulum eros non ultrices. Vivamus aliquet finibus viverra. Suspendisse maximus tristique enim eget posuere. Nam lobortis ex at purus cursus interdum. Duis sollicitudin consectetur arcu. Maecenas id ligula risus.", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla luctus vitae mi a imperdiet. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis ornare vestibulum eros non ultrices. Vivamus aliquet finibus viverra. Suspendisse maximus tristique enim eget posuere. Nam lobortis ex at purus cursus interdum. Duis sollicitudin consectetur arcu. Maecenas id ligula risus.", is_verified: true}, {user: "Timo Viveen", userimage: "/assets/img/otter2.jpg", message: "lmao", is_verified: false}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Howdy", is_verified: true}, {user: "Wouter Jansen", userimage: "/assets/img/otter2.jpg", message: "ohai", is_verified: true}, {user: "Otterly Adowable", userimage: "/assets/img/otter2.jpg", message: "Hi", is_verified: true}]},
        {_id: 6, viewers: 0, source: "/assets/video/otterdance.mp4", Slogan: "This is an example Slogan because I say so", User: "Okke Trommelen", Avatar:"/assets/img/otter7.jpg", messages: []},
        {_id: 7, viewers: 0, source: "/assets/video/otterdance.mp4", Slogan: "This is an example Slogan because I say so", User: "Rowin van Blokland", Avatar:"/assets/img/otter8.jpg", messages: []},
        {_id: 8, viewers: 0, source: "/assets/video/otterdance.mp4", Slogan: "This is an example Slogan because I say so", User: "Erco Argante", Avatar:"/assets/img/otter9.jpg", messages: []},
        {_id: 9, viewers: 0, source: "/assets/video/otterdance.mp4", Slogan: "This is an example Slogan because I say so", User: "Robin Schellius", Avatar:"/assets/img/otter10.jpg", messages: []},
        {_id: 10, viewers: 0, source: "/assets/video/catmeow.mp4", Slogan: "This is an example Slogan because I say so", User: "Ruud Hermans", Avatar:"/assets/img/otter11.jpg", messages: []},
        {_id: 11, viewers: 0, source: "/assets/video/catmeow.mp4", Slogan: "This is an example Slogan because I say so", User: "Arno Broeders", Avatar:"/assets/img/otter12.jpg", messages: []},
        {_id: 12, viewers: 0, source: "/assets/video/catmeow.mp4", Slogan: "This is an example Slogan because I say so", User: "Frank Tempelman", Avatar:"/assets/img/otter13.jpg", messages: []},
        {_id: 13, viewers: 0, source: "/assets/video/catmeow.mp4", Slogan: "This is an example Slogan because I say so", User: "Gitta de Vaan", Avatar:"/assets/img/otter14.jpg", messages: []},
        {_id: 14, viewers: 0, source: "/assets/video/catmeow.mp4", Slogan: "This is an example Slogan because I say so", User: "Eefje Gijzen", Avatar:"/assets/img/otter15.jpg", messages: []},
        {_id: 15, viewers: 0, source: "/assets/video/catmeow.mp4", Slogan: "This is an example slogan because I say so", User: "Sven of Bosch", Avatar:"/assets/img/otter16.jpg", messages: []},
    ],
    fetching: false,
    fetched: false,
    error: null,
    searchword: ""
}, action){
    switch(action.type){

        // Retrieving streams
        case "FETCH_STREAMS_PENDING": {
            return {...state, fetching: true}
        }
        case "FETCH_STREAMS_REJECTED": {
            console.error(action.payload)
            return {...state, fetching: false, error: action.payload}
        }
        case "FETCH_STREAMS_FULFILLED": {
            return {...state, fetching: false, fetched: true, streams: action.payload.data.map(stream => {return {...stream, messages: []}})}
        }

        // Retrieving chatmessages
        case "FETCH_STREAMCHAT_PENDING": {
            return {...state, fetching: true}
        }
        case "FETCH_STREAMCHAT_REJECTED": {
            return {...state, fetching: false, error: action.payload}
        }
        case "FETCH_STREAMCHAT_FULFILLED": {
            return {...state, fetching: false, fetched: true, streams: state.streams.map((stream, key) => {
                let streamitem = stream;
                if (stream._id === action.meta.streamID) {
                    streamitem.messages = action.payload.data
                }
                return streamitem
            })}
        }

        // Sending chatmesssages
        case "SEND_STREAMCHAT_PENDING": {
            return {...state, fetching: true}
        }
        case "SEND_STREAMCHAT_REJECTED": {
            return {...state, fetching: false, error: action.payload}
        }
        case "SEND_STREAMCHAT_FULFILLED": {
            return {...state, fetching: false, fetched: true, streams: state.streams.map((stream, key) => {
                let streamitem = stream;
                if (stream.ID === action.meta.stream.ID) {
                    streamitem.messages.push({
                        ...action.meta.user, 
                        message: action.meta.message,
                    })
                }
                return streamitem
            })}
        }

        // Searching streams
        case "SEARCH_STREAMS": {
            return {...state, searchword: action.payload}
        }

        // Default
        default: {
            return state;
        }
    }
}